<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Nira Viewer SDK -->
<script src="https://sdk.nira.app/js/viewer.js"></script>

<style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
}
#niraviewer {
  width: 100%;
  height: 100%;
  border: 0;
}
</style>

</head>

<body>

<iframe id="niraviewer"
        src="https://nidaros.nira.app/g/y-93qFDYS2W-8ACrlqVj8A">
</iframe>

<script>

document.addEventListener("DOMContentLoaded", function () {

  const iframe = document.getElementById("niraviewer");

  iframe.addEventListener("load", function () {

    if (!window.NiraAPI) {
      console.error("NiraAPI not loaded");
      return;
    }

    const viewer = new NiraAPI.Viewer(iframe, {
      enableCallouts: true,
      enableObjectPicking: true
    });

    console.log("Viewer initialized");

    // Logg ALT som skjer
    viewer.on("*", function (eventName, payload) {
      console.log("EVENT:", eventName);
      console.log("PAYLOAD:", payload);
      console.log("----------------------------");
    });

  });

});

</script>

</body>
</html>
