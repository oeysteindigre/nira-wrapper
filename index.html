<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Nira â†’ FileMaker</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

#niraviewer {
  width: 100%;
  height: 100%;
  border: 0;
  display: block;
}
</style>

<script src="https://sdk.nira.app/js/viewer.js"></script>
</head>

<body>

<iframe
  id="niraviewer"
  src="https://nidaros.nira.app/g/y-93qFDYS2W-8ACrlqVj8A">
</iframe>

<script>

let niraViewer;

window.addEventListener("load", function () {

  niraViewer = new NiraAPI.Viewer(
    document.getElementById("niraviewer"),
    {
      showNavigationTools: true,
      showMeasureTool: false,
      showCalloutsList: false,
      showRenderModes: false,
      suppressCalloutDialog: true
    }
  );

  // ðŸ”¥ Tving resize etter init
  setTimeout(function(){
    window.dispatchEvent(new Event("resize"));
  }, 300);

  niraViewer.on("callout_activated", function(calloutInfo){

    if (window.FileMaker && FileMaker.PerformScript) {
      FileMaker.PerformScript(
        "Test_From_nira",
        calloutInfo.uuid
      );
    }

  });

});
</script>

</body>
</html>
