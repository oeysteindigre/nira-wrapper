<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Nira Viewer API Test</title>
  <script src="https://cdn.nira.app/sdk/latest/nira-sdk.js"></script>
</head>

<body style="margin:0; overflow:hidden;">

  <iframe
    id="niraviewer"
    style="width:100vw; height:100vh; border:none;"
    src="https://app.nira.app/model/-0lmDLkGQpSjZn4Lyv3EVg">
  </iframe>

  <script>
    document.addEventListener("DOMContentLoaded", function () {

      const iframe = document.getElementById("niraviewer");

      iframe.addEventListener("load", function () {

        const viewer = new NiraAPI.Viewer(iframe, {
          enableCallouts: true,
          enableObjectPicking: false
        });

        // ðŸ”¥ NÃ¥ skal dette fungere
        viewer.on("callout_activated", function(event) {

          console.log("CALLOUT UUID:", event.uuid);

          if (window.FileMaker) {
            FileMaker.PerformScript("Test_From_Nira", event.uuid);
          }

        });

      });

    });
  </script>

</body>
</html>
