<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Nira â†’ FileMaker Test</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
}
.niraIframe {
    width: 100%;
    height: 100%;
    border: 0;
}
</style>

<script src="https://developers.nira.app/js-sdk/latest/nira-sdk.js"></script>
</head>

<body>

<iframe
    id="niraviewer"
    frameBorder="0"
    loading="lazy"
    class="niraIframe"
    src="https://nidaros.nira.app/g/y-93qFDYS2W-8ACrlqVj8A">
</iframe>

<script>

const viewer = new NiraViewer({
    iframeId: "niraviewer"
});

viewer.on("callout_activated", function (info) {

    console.log("activated callout info", info);
    console.log("FileMaker object:", window.FileMaker);

    if (window.FileMaker && FileMaker.PerformScript) {

        alert("FileMaker EXISTS");

        FileMaker.PerformScript(
            "Test_From_nira",
            info.uuid
        );

    } else {

        alert("FileMaker NOT available");

    }

});

</script>

</body>
</html>
